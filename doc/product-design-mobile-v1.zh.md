# 产品设计-移动端 V1（局域网版本）

> UI 风格：https://dribbble.com/shots/26490911-UI-UX-Design-Mobile-App-Design-Photo-Editing-Watermark-App
> https://dribbble.com/search/photo-share-management-mobile


## 产品定位

**家庭局域网内的私有照片管理移动应用**，通过WiFi连接家庭照片站，实现照片的便捷上传、浏览和共享。无需互联网连接，保障家庭照片的隐私安全。

## 核心使用流程

### 首次使用流程
1. **连接家庭WiFi**：手机连接到家庭局域网，未连接则不可用，连接后接收家庭照片站的广播，确认局域网中有家庭照片站，若没有则尝试扫码直接连接。
2. **扫描二维码**：扫描桌面端生成的设备二维码，该二维码包含照片站的IP地址和端口号，扫描后自动填充到连接界面。
3. **快速注册**：填写昵称和头像等基本信息
4. **自动连接**：系统自动发现并连接到家庭照片站
5. **开始使用**：立即开始上传和浏览照片

### 后续使用流程
1. **自动连接**：连接家庭WiFi后自动发现照片站
2. **无缝体验**：无需重复登录，直接使用

## 核心功能模块

### 1. 设备发现与连接模块

#### 1.1 局域网设备发现
- **自动扫描**：自动扫描局域网内的照片站设备
- **设备列表**：显示可用的家庭照片站
- **设备信息**：显示设备名称、IP地址、在线状态

#### 1.2 二维码快速连接
- **桌面端生成**：桌面端生成包含设备信息的二维码
- **移动端扫描**：移动端扫描二维码快速连接
- **一键连接**：扫描后自动填充设备信息并连接

#### 1.3 手动连接
- **IP地址连接**：支持手动输入设备IP地址
- **设备名称连接**：通过设备名称连接
- **连接历史**：保存连接历史，方便下次使用
- **切换设备**：在历史设备列表中切换连接的照片站

### 2. 用户身份模块（简化版）

#### 2.1 快速身份注册
- **昵称设置**：设置用户在家庭中的昵称
- **头像选择**：选择或拍摄用户头像
- **设备标识**：自动识别设备类型和名称
- **即时生效**：注册后立即生效，无需审核

#### 2.2 身份管理
- **身份切换**：支持在同一设备上切换不同用户
- **身份编辑**：可修改昵称和头像
- **设备管理**：查看和管理已连接的设备

#### 2.3 权限管理
- **家庭管理员**：首个注册用户自动成为管理员
- **成员权限**：管理员可设置其他成员的权限
- **照片可见性**：基于家庭关系的权限控制

### 3. 照片管理模块（局域网优化版）

#### 3.1 照片上传
- **原图上传**：所有照片均使用原图质量上传，保证最佳画质
- **批量上传**：支持选择多张照片批量上传（局域网高速传输）
- **上传队列**：支持后台上传和断点续传
- **设备标记**：自动标记照片来源设备和用户
- **局域网优化**：利用局域网高速传输，支持大文件快速上传
- **预览优化**：预览时使用缩略图加速加载，查看时显示原图

#### 3.1.1 手机相册特性兼容策略

##### 动态照片处理
- **Live Photos (iOS)**：支持HEIC格式的Live Photos，保持静态图片和动态视频关联
- **Motion Photos (Android)**：支持各厂商的Motion Photos格式（三星、谷歌、小米等）
- **无损处理**：保持动态照片的原始格式和质量
- **文件打包**：将动态照片的静态图片和动态视频文件打包上传
- **元数据保留**：完整保留动态照片的元数据和关联信息

##### 特殊格式支持
- **HEIC/HEIF格式**：支持iOS的HEIC格式照片，保持高质量压缩
- **RAW格式**：支持专业相机的RAW格式照片上传
- **全景照片**：支持360度全景照片的完整上传和展示
- **HDR照片**：支持HDR照片的高动态范围效果
- **人像模式**：支持人像模式照片的深度信息保留

##### 视频特性支持
- **慢动作视频**：支持慢动作视频的原始帧率和效果
- **延时摄影**：支持延时摄影的时间压缩效果
- **4K/8K视频**：支持高分辨率视频上传和播放
- **空间音频**：支持视频中的空间音频效果

##### 元数据保留
- **EXIF信息**：完整保留照片的拍摄参数、时间、GPS等信息
- **设备信息**：记录拍摄设备的品牌、型号、镜头信息
- **编辑历史**：保留照片的编辑历史和滤镜信息
- **人脸识别**：保留设备端的人脸识别和分组信息

#### 3.2 照片浏览
- **时间线浏览**：按时间顺序浏览所有家庭照片（使用缩略图快速加载）
- **用户筛选**：按上传用户筛选查看照片
- **设备筛选**：按来源设备筛选照片
- **全屏查看**：支持全屏查看和手势缩放（加载原图保证画质）
- **照片信息**：查看拍摄时间、设备信息、上传用户
- **快速切换**：左右滑动快速切换照片
- **质量策略**：列表预览使用缩略图，全屏查看使用原图

#### 3.2.1 手机相册特性UI展示策略

##### 统一标识系统
- **动态照片标识**：所有动态照片（Live Photos、Motion Photos）显示统一的活动标识
- **特殊格式标识**：RAW、全景、HDR等特殊格式显示对应的格式标识
- **视频类型标识**：慢动作、延时摄影等视频类型显示对应的播放标识
- **人像模式标识**：人像模式照片显示深度效果标识

##### 交互体验优化
- **长按预览**：长按动态照片缩略图可预览动态效果
- **手势操作**：支持缩放、滑动等手势操作
- **播放控制**：全屏查看时支持播放/暂停控制
- **效果切换**：支持HDR、人像模式等效果的开/关切换

##### 跨平台兼容
- **格式检测**：自动检测照片特性和格式
- **设备适配**：根据设备类型采用对应的展示方案
- **格式转换**：必要时进行格式转换以保证跨平台兼容性
- **性能优化**：动态加载大文件，避免内存占用过大

##### 元数据展示
- **详细信息面板**：显示完整的EXIF信息和设备信息
- **编辑历史**：展示照片的编辑历史和滤镜信息
- **关联文件**：显示动态照片关联的视频文件信息
- **深度信息**：人像模式照片显示深度图效果

#### 3.3 照片组织（简化版）
- **手动分类**：手动将照片添加到相册
- **基础标签**：为照片添加简单标签
- **收藏功能**：标记喜爱的照片
- **删除管理**：删除照片到回收站，支持恢复
- **批量操作**：支持多选照片进行批量操作

### 4. 相册管理模块（局域网特色）

#### 4.1 家庭相册
- **家庭时间线**：所有家庭成员照片的统一时间线
- **个人空间**：每个用户的个人照片空间
- **共享相册**：家庭成员共同维护的共享相册
- **活动相册**：按家庭活动创建的相册

#### 4.2 相册同步
- **自动同步**：连接家庭WiFi后自动同步新照片
- **增量同步**：只同步新增和修改的内容
- **冲突解决**：智能处理多设备上传的冲突
- **同步状态**：实时显示同步进度和状态

#### 4.3 相册权限
- **家庭可见**：所有家庭成员可见的相册
- **个人私密**：仅自己可见的私密相册
- **指定共享**：指定特定家庭成员可见的相册

### 5. 家庭协作模块（局域网特色）

#### 5.1 家庭成员管理
- **家庭成员列表**：查看所有已注册的家庭成员
- **成员状态**：显示成员在线状态和最后活跃时间
- **成员设备**：查看成员使用的设备信息
- **成员权限**：管理员可设置成员的访问权限

#### 5.2 家庭活动
- **活动创建**：创建家庭活动（如生日、聚会等）
- **活动相册**：为活动创建专属相册
- **活动邀请**：邀请家庭成员上传活动照片
- **活动回顾**：查看历史活动记录

#### 5.3 简单互动
- **照片点赞**：为家庭成员的照片点赞
- **简单评论**：支持简单的文字评论
- **上传提醒**：新照片上传时通知家庭成员

### 6. 搜索与发现模块（简化版）

#### 6.1 基础搜索
- **时间搜索**：按拍摄时间范围搜索照片
- **用户搜索**：按上传用户搜索照片
- **设备搜索**：按来源设备搜索照片
- **关键词搜索**：按文件名和标签搜索

#### 6.2 简单发现
- **最新照片**：显示最新的家庭照片
- **热门照片**：显示点赞最多的照片
- **用户动态**：显示家庭成员的最新上传

### 7. 系统设置模块（局域网优化）

#### 7.1 连接设置
- **设备管理**：管理已连接的家庭照片站
- **自动连接**：设置是否自动连接家庭WiFi
- **网络检测**：检测网络连接状态和质量
- **连接历史**：查看连接历史记录

#### 7.2 同步设置
- **同步模式**：设置自动同步或手动同步
- **同步内容**：选择要同步的照片类型
- **同步时间**：设置同步的时间段
- **数据用量**：查看同步数据统计

#### 7.3 隐私设置
- **照片隐私**：设置照片的可见性级别
- **上传设置**：设置上传时的隐私选项
- **本地缓存**：管理本地缓存的数据
- **数据清理**：清理本地缓存和临时文件

### 5. 搜索与发现模块

#### 5.1 智能搜索
- **关键词搜索**：按文件名、标签搜索照片
- **时间搜索**：按拍摄时间范围搜索
- **地点搜索**：按拍摄地点搜索（基于GPS）
- **人脸搜索**：基于人脸识别搜索相关照片
- **相似照片**：查找相似或重复照片

#### 5.2 智能发现
- **回忆功能**：自动生成"一年前的今天"等回忆
- **智能推荐**：推荐可能感兴趣的照片
- **事件识别**：自动识别生日、节日等特殊事件
- **地点聚合**：按地点自动聚合照片

### 6. 系统设置模块

#### 6.1 应用设置
- **主题设置**：支持明暗主题切换
- **语言设置**：多语言支持
- **通知设置**：推送通知管理
- **存储设置**：缓存清理、存储空间管理

#### 6.2 同步设置
- **同步频率**：设置自动同步的频率
- **网络条件**：设置同步的网络条件（WiFi/移动网络）
- **数据用量**：查看同步数据用量统计
- **同步历史**：查看同步历史记录

#### 6.3 隐私与安全
- **隐私设置**：照片隐私级别设置
- **数据加密**：本地数据加密保护
- **权限管理**：应用权限申请和管理

### 7. 离线功能模块

#### 7.1 离线浏览
- **照片缓存**：自动缓存浏览过的照片
- **离线相册**：标记相册为可离线访问
- **缓存管理**：管理离线缓存空间

#### 7.2 离线上传
- **上传队列**：离线时照片加入上传队列
- **自动重试**：网络恢复后自动重试上传
- **上传历史**：查看离线上传历史

## 技术架构（局域网优化）

### 前端技术栈
- **开发框架**：Flutter（跨平台支持）
- **状态管理**：GetX（响应式状态管理）
- **网络请求**：Dio（HTTP客户端，局域网优化）
- **本地存储**：Hive（NoSQL数据库）
- **图片处理**：CachedNetworkImage（图片缓存）
- **局域网发现**：mDNS/DNS-SD（设备自动发现）

### 局域网特色技术
- **设备发现**：基于mDNS的局域网设备自动发现
- **二维码连接**：快速设备配对和连接
- **高速传输**：局域网内大文件快速传输
- **离线缓存**：智能本地缓存策略
- **连接管理**：自动重连和连接状态监控

### 核心特性
- **零配置连接**：自动发现家庭照片站，无需手动配置
- **高速传输**：利用局域网优势实现快速文件传输
- **隐私安全**：数据仅在家庭局域网内传输
- **离线优先**：支持离线浏览和离线上传
- **简单易用**：扫码即用，无需复杂设置

## 用户体验设计

### 设计原则
- **极简主义**：界面简洁，功能聚焦
- **家庭温馨**：营造温暖的家庭氛围
- **零学习成本**：扫码即用，无需教程
- **稳定可靠**：连接稳定，操作流畅

### 交互设计
- **扫码优先**：优先使用二维码快速连接
- **自动发现**：连接WiFi后自动发现设备
- **无缝切换**：设备间无缝切换使用
- **实时反馈**：实时显示连接和传输状态

## 开发计划（V1版本）

### 第一阶段：核心功能（MVP）
1. **设备发现与连接**：局域网设备发现和二维码连接
2. **快速身份注册**：简化版用户身份系统
3. **基础照片上传**：单张和批量照片上传
4. **照片浏览**：时间线浏览和全屏查看

### 第二阶段：完善功能
1. **相册管理**：家庭相册和个人空间
2. **同步功能**：自动同步和增量同步
3. **家庭协作**：家庭成员管理和简单互动
4. **搜索功能**：基础搜索和筛选

### 第三阶段：优化体验
1. **性能优化**：传输速度和稳定性优化
2. **离线体验**：离线浏览和缓存管理
3. **界面优化**：用户体验细节优化
4. **错误处理**：完善的错误处理和恢复机制

## 成功指标（局域网版本）

### 用户指标
- **家庭覆盖率**：每个家庭的平均设备连接数
- **使用频率**：用户每周使用次数
- **照片上传量**：平均每用户上传照片数量
- **用户满意度**：用户使用体验满意度

### 技术指标
- **连接成功率**：设备自动连接成功率
- **传输速度**：局域网内照片传输速度
- **同步延迟**：照片同步的时间延迟
- **应用稳定性**：应用崩溃率和错误率

### 业务指标
- **家庭活跃度**：活跃家庭数量
- **照片存储量**：家庭照片总存储量
- **用户留存率**：用户持续使用率
- **功能使用率**：各核心功能的使用频率

