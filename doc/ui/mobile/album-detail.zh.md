# Album Detail 相册详情（手机端）

页面概述
- 浏览与管理单个相册内的媒体，支持选择、添加/移除、封面设置、重命名、加密状态展示与分享。

里程碑与协同
- M5（相册与浏览）
- M6（分享与协作）
- M8（隐私与安全）

路由与模块路径
- 路由：/albums/:id
- 模块路径：mobile/lib/albums/detail（建议新建）

角色与权限
- 普通用户（仅管理自己的相册）

功能列表
- 网格浏览（缩略图、已选标记、加密标记）
- 选择模式（多选、全选、反选）
- 添加到相册（从相册选择器或已上传媒体添加）
- 从相册移除（批量）
- 设置封面、重命名相册
- 加密状态展示与密钥轮换（按需）
- 分享（生成分享令牌或链接）
- 打开媒体详情（跳转到 Photo Viewer）

UI结构与元素位置
- Header：返回按钮、相册名称、右侧“更多”菜单（重命名、封面、分享、加密管理）
- Grid：缩略图网格（右上角锁表示加密内容；选中态边框高亮）
- Toolbar（选择模式）：底部操作栏（添加、移除、设为封面）
- Encryption Badge：Header 下方显示“已加密/未加密”状态

交互与流程
- 进入页面 → 加载相册元数据与媒体列表 → 渲染网格
- 切换加密管理 → 若密钥轮换，执行轮换流程并刷新状态
- 选择媒体 → 底部工具栏显示可用操作 → 执行添加/移除/设为封面
- 点击缩略图 → 跳转 /photo/:id（Photo Viewer）

状态与空态
- 空相册：显示引导“添加媒体”按钮
- 加密相册：部分操作需要先解密或展示受保护提示

错误与提示
- 加载失败/权限不足/密钥错误提示
- 分享失败或令牌过期提示

指标与验收
- 首屏渲染时延≤300ms（含本地索引）
- 操作成功率≥99%

关联文档与代码
- ADR-0002（相册级加密）
- M5 文档、M6 文档