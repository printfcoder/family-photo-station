# Photo Viewer 照片查看器（手机端）

页面概述
- 查看单张照片/视频详情，支持缩放、元数据面板、加入/移出相册、删除与分享，兼容加密相册的受保护预览策略。

里程碑与协同
- M4（导入与索引）
- M5（浏览）
- M8（隐私与安全）

路由与模块路径
- 路由：/photo/:id
- 模块路径：mobile/lib/viewer（建议新建）

角色与权限
- 普通用户（仅访问自己的媒体）

功能列表
- 图像/视频预览（缩放、拖拽、播放控制）
- 元数据面板（拍摄时间、位置、设备、标签）
- 加入/移出相册（多选相册）
- 删除（确认）
- 分享（遵循权限与加密策略）
- 加密相册受保护提示（必要时要求解密）

UI结构与元素位置
- Top Bar：返回、分享、删除、更多
- Viewport：居中显示媒体；视频含播放控件
- Bottom Sheet：上拉显示元数据与相册操作
- Encryption Notice：加密内容受保护时的提示条

交互与流程
- 打开详情 → 校验访问与加密状态 → 渲染媒体 → 可展开元数据面板
- 执行加入/移出相册 → 成功后提示并刷新关联
- 删除或分享 → 二次确认与权限校验

状态与空态
- 加密内容：提示受保护并按策略预览（参考 ADR-0002）
- 离线：使用本地缓存缩略图与元数据

错误与提示
- 载入失败、权限不足、解密失败提示

指标与验收
- 首次打开耗时≤300ms（缩略图或缓存）
- 操作成功率≥99%

关联文档与代码
- ADR-0002（加密策略）
- M4/M5 文档